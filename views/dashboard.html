<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PID Dashboard</title>
  <link rel="stylesheet" href="/css/dashboard.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div class="dashboard-container">

    <!-- 🔧 PID Input Section -->
    <h2>🎛️ PID Controller Settings</h2>
    <form id="pidForm">
      <div class="form-row">
        <input type="number" step="0.1" id="kp" name="kp" placeholder="Kp" required>
        <input type="number" step="0.01" id="ki" name="ki" placeholder="Ki" required>
        <input type="number" step="0.1" id="kd" name="kd" placeholder="Kd" required>
        <input type="number" step="1" id="setpoint" name="setpoint" placeholder="Setpoint (°C)" required>
        <button type="submit">📤 Send to ESP32</button>
      </div>
    </form>

    <!-- 📊 Live Data Section -->
    <h3>📡 Live System Info</h3>
    <div class="status-row">
      <div class="status-card">🌡️ Temp: <span id="temperature">--</span> °C</div>
      <div class="status-card">⚙️ PID Output: <span id="pid-output">--</span> %</div>
      <div class="status-card">🔌 TRIAC: <span id="triac-status">--</span></div>
    </div>

    <section class="control-panel">
      <button id="toggleTriac" class="btn-control">⚡ Toggle TRIAC</button>
      <a href="/export" class="btn-control" download>📥 Download PID Logs</a>
    </section>

    <!-- 📈 Real-Time Graph -->
    <div class="graph-slot">
      <h3>📊 Real-Time Temperature & PID</h3>
      <canvas id="pidChart" width="600" height="300"></canvas>
    </div>
  </div>

  <script src="/js/main.js"></script>
</body>
</html>
